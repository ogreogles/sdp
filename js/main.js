"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var a=Object.prototype.toString.call(r).slice(8,-1);return"Object"===a&&r.constructor&&(a=r.constructor.name),"Map"===a||"Set"===a?Array.from(r):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(r,e):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var a=0,t=new Array(e);a<e;a++)t[a]=r[a];return t}var tel=document.querySelector('input[type="tel"]'),telMask=new Inputmask("+7 (999) 999-99-99");telMask.mask(tel);var validator=new JustValidate(".feedback__form",{focusInvalidField:!0,lockForm:!0,errorFieldCssClass:"is-invalid",colorWrong:"#D11616"});validator.addField(".feedback__form--name",[{rule:"required",errorMessage:"Это обязательное поле"},{validator:function(r){return!/[^A-zА-яЁё \s]/.test(r)},errorMessage:"Введите только буквы"},{rule:"minLength",value:2,errorMessage:"Имя слишком короткое"},{rule:"maxLength",value:30,errorMessage:"Имя слишком длинное"}]),validator.addField(".feedback__form--tel",[{rule:"required",errorMessage:"Это обязательное поле"},{validator:function(){return 10===tel.inputmask.unmaskedvalue().length},errorMessage:"Номер слишком короткий"}]),validator.addField(".feedback__form--mail",[{rule:"required",errorMessage:"Это обязательное поле"},{rule:"email",errorMessage:"Почта введена некорректно"}]).onSuccess((function(r){var e;console.log("Validation passes and form submitted",r);var a=new FormData(r.target);(e=console).log.apply(e,_toConsumableArray(a));var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&console.log("Отправлено")},t.open("POST","mail.php",!0),t.send(a),r.target.reset(),alert("Спасибо за заявку! Мы обязательно Вам перезвоним.")}));